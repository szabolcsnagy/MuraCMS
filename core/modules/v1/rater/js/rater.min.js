function starImg(e){return Mura.corepath+"/modules/v1/rater/images/rater/star_"+starString(e)+".gif"}function starString(e){return 0>=e?num="zero":1>e?num="half":1.5>e?num="one":2>e?num="onehalf":2.5>e?num="two":3>e?num="twohalf":3.5>e?num="three":4>e?num="threehalf":4.5>e?num="four":5>e?num="fourhalf":e>=5&&(num="five"),num}function setRating(e,t,n){for(vt=document.getElementById("numvotes"),vt.innerHTML=t+String(" vote").pluralize(t),n=Math.round(10*n)/10,stars=document.getElementById("ratestars"),stars.alt=n+String(" star").pluralize(n),stars.src=starImg(n),i=1;i<=5;i++)radio=document.getElementById("rater1_rater_input0radio"+i),i==e?radio.checked=!0:radio.checked=!1}function initRatings(e){if(document.getElementById){var t=0,n=document.getElementsByName(e),a=n?n[0]:null;if(!a)return!1;for(;t>=0;){var r=e+"_rater_input"+t,l=document.getElementsByName(r);l[0]?("SELECT"==l[0].nodeName?gatherSelectAttributes(l[0],e):"INPUT"==l[0].nodeName&&"radio"==l[0].type&&gatherRadioAttributes(l,e),t++):t=-1}}}function gatherRadioAttributes(e,t){for(var n=-1,a=e.length,r=e[0].parentNode.parentNode,l=r.getElementsByTagName("LEGEND"),d=l[0]?l[0].innerHTML:"",o=new Array,i=e[0].name,u=e[0].className,m=0;a>m;m++){var s=e[m],c=o.length;o[c]=new Array;var g=o[c];g.value=s.value?s.value:m,macIe?g.label=s.parentNode.innerText?s.parentNode.innerText:gDEFAULT_TEXT:g.label=s.nextSibling.data?s.nextSibling.data:gDEFAULT_TEXT,s.checked&&(n=m)}var v=r.parentNode;v.removeChild(r),createRater(i,v,o,n,u,d,t)}function gatherSelectAttributes(e,t){for(var n=e.getElementsByTagName("OPTION"),a=-1,r="",l=n.length,d=new Array,o=e.name,i=e.className,u=0;l>u;u++){var m=n[u];if(-1!=m.value){var s=d.length;d[s]=new Array;var c=d[s];c.value=m.value?m.value:u,c.label=m.innerHTML?m.innerHTML:"",m.selected&&(a=u-1)}else r=m.innerHTML?m.innerHTML:gDEFAULT_TEXT}var g=e.parentNode;g.removeChild(e),createRater(o,g,d,a,i,r,t)}function createRater(e,t,n,a,r,l,d){var o=document.createElement("DIV");o.className=r,o.id=e+"_container",o.labelsValues=n,o.selectedIndex=a,o.formId=d;var i=n.length,u=document.createElement("P");u.id=e+"_text",o.textElemId=u.id,o.appendChild(u),o.defaultText=l;for(var m=new Array,s=0;i>s;s++){var c=document.createElement("A");c.href="#",c.onmouseover=raterMouseOver,c.onfocus=raterMouseOver,c.onmouseout=raterMouseOut,c.onblur=raterMouseOut,c.onclick=raterClick,c.containerId=o.id,c.index=s;var g="";-1!=a&&a>=s&&(g="selected");var v=""!=g?" ":"",h=s%2?"odd"+v:"even"+v;c.className=h+g,o.appendChild(c),m[m.length]=c}o.ratingElements=m;var E=document.createElement("DIV");E.className="clr",o.appendChild(E),t.appendChild(o)}function raterMouseOver(){for(var e=document.getElementById(this.containerId),t=e.getElementsByTagName("A"),n=t.length,a=0;n>a;a++){var r=t[a],l=e.selectedIndex,d="";l>-1?l>=a&&a<=this.index?d="selectedover":l>=a&&a>this.index?d="selectedless":a>l&&a<=this.index?d="over":a>l&&a>this.index&&(d=""):a<=this.index&&(d="over");var o=""!=d?" ":"",i=a%2?"odd"+o:"even"+o;r.className=i+d}}function raterMouseOut(){for(var e=document.getElementById(this.containerId),t=e.getElementsByTagName("A"),n=t.length,a=0;n>a;a++){var r=t[a],l=e.selectedIndex,d=-1!=l&&l>=a?"selected":"",o=""!=d?" ":"",i=a%2?"odd"+o:"even"+o;r.className=i+d}}function raterClick(){for(var e=document.getElementById(this.containerId),t=e.getElementsByTagName("A"),n=t.length,a=0;n>a;a++){var r=t[a],l=a<=this.index?"selectedover":"",d=""!=l?" ":"",o=a%2?"odd"+d:"even"+d;r.className=o+l,e.selectedIndex=this.index}var i=(document.getElementById(e.textElemId),document.getElementById("rate"));return i.value=e.labelsValues[e.selectedIndex].value,""!=document.getElementById(e.formId).userID.value?saveRate(e.formId):location.href=document.getElementById(e.formId).loginURL.value+document.getElementById(e.formId).rate.value,!1}function showRatingResponse(resp){if(Mura("#avgrating").length){var r=eval("("+resp+")");document.getElementById("numvotes").innerHTML=r.data.THECOUNT+String(" vote").pluralize(r.data.THECOUNT),document.getElementById("avgratingstars").setAttribute("class","ratestars "+starString(r.data.THEAVG))}return!1}var agt=navigator.userAgent.toLowerCase(),mac=-1!=agt.indexOf("mac"),macIe=mac&&document.all,gYOUR_RATING="",gDEFAULT_TEXT="Recommend It: ";!document.getElementById&&document.all&&(document.getElementById=function(e){return document.all[e]}),String.prototype.pluralize=function(e,t){return null==t&&(t=this+"s"),1==e?this:t};
